import{c as a,a as u,b as e,d as l,F as r,r as d,e as h,f as _,o as n,_ as p,t as o,g as k}from"../index-1414b55d.js";import{g as m}from"../adminHelper-32c12dca.js";/* empty css               */const b={key:0,class:"uk-container uk-align-center"},f=e("h1",{class:"uk-text-center"},"BOCATAS",-1),g={class:"uk-container uk-text-center"},v=e("a",{href:"/admin/pieces/piece.html"},[e("button",{class:"uk-button uk-button-small uk-button-primary"}," Nuevo Bocata ")],-1),y=e("br",null,null,-1),B={class:"uk-form-controls uk-form-controls-text uk-form-horizontal"},P=e("label",{for:"search-input",class:"uk-form-label"},"Busqueda:",-1),w={ref:"searchBox",type:"text",class:"uk-input",name:"search-input",id:"search-input"},x=e("br",null,null,-1),A={class:"uk-card-media-left uk-cover-container"},N=["src"],T=e("canvas",{width:"300",height:"300"},null,-1),C={class:"uk-card-body"},D={id:"pieceTitle",class:"uk-card-title"},S=e("u",null,"Igredientes:",-1),E=e("br",null,null,-1),V=e("br",null,null,-1),O=["href"],j=e("button",{class:"uk-button uk-button-secondary uk-button-small"},"Editar",-1),q=[j],F={data(){return{user:{},allPieces:[],piecesElements:[]}},mounted(){_.on("userObj",i=>{this.user=i,this.checkAdmin()}),this.setPageData()},methods:{checkAdmin(){(!this.user||!this.user.admin==1)&&(alert("Necesitas ser administrador para ver esta pagina."),window.location="/"),this.setPageData(),this.$nextTick(()=>{this.initSearchBox()})},async setPageData(){this.allPieces=await m()},initSearchBox(){$("input#search-input").on("input",()=>{let i=$("input#search-input").val();this.$refs.pieces.forEach(t=>{t.querySelector("h3#pieceTitle").textContent.toLowerCase().includes(i)?t.style.display="flex":t.style.display="none"})})}}},I=Object.assign(F,{__name:"pieces",setup(i){return(t,c)=>(n(),a(r,null,[u(p),t.user&&t.user.admin?(n(),a("main",b,[f,e("div",g,[e("button",{class:"uk-button uk-button-small uk-button-secondary",onClick:c[0]||(c[0]=s=>t.setPageData())}," Recargar Bocatas "),l("   "),v]),y,e("div",B,[e("div",null,[P,e("input",w,null,512)])]),x,(n(),a("div",{class:"uk-container",key:t.allPieces},[(n(!0),a(r,null,d(t.allPieces,s=>(n(),a("div",{ref_for:!0,ref:"pieces",class:"uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin","uk-grid":""},[e("div",A,[e("img",{src:s.imagen,width:"300",height:"300",alt:"","uk-cover":""},null,8,N),T]),e("div",C,[e("h3",D,[e("b",null,o(s.nombre),1)]),e("p",null,o(s.descripcion),1),e("p",null,[S,E,l(" "+o(s.ingredientes),1)]),e("span",null,[l("Precio: "),e("b",null,o(s.precio)+"€",1)]),V,e("a",{href:"/admin/pieces/piece.html?pieceId="+s.id},q,8,O)])],512))),256))]))])):h("",!0)],64))}}),L=k(I);L.mount("#app");
